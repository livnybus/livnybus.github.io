(function(){var e,t,r,s;e="v2",r=function(){return caches.open(e).then(function(e){return fetch("/assets/all.json").then(function(n){return n.json()}).then(function(n){var t;return(t=n.map(function(n){return"/assets/bus/"+n})).push("/index.html"),t.push("/main.js"),t.push("/style.js"),t.push("/sw.js"),t.push("/assets/all.json"),e.addAll(t)})})},t=function(t){return caches.open(e).then(function(n){return n.match(t).then(function(n){return n||Promise.reject("no-match")})})},s=function(t){return caches.open(e).then(function(n){return fetch(request).then(function(n){return cache.put(t,n)})})},self.addEventListener("install",function(n){return n.waitUntil(r())}),self.addEventListener("activate",function(n){return n.waitUntil(caches.keys().then(function(n){return Promise.all(n.map(function(n){if(e!==n)return caches.delete(n)}))}))}),self.addEventListener("fetch",function(n){return n.respondWith(t(n.request)),n.waitUntil(s(n.request))})}).call(this);